<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from src/mark_description/urdf/mark.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mark">
  <material name="grey">
    <color rgba="0.45 0.45 0.45 1.0"/>
  </material>
  <material name="black">
    <color rgba="0 0 0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0 0 1.0 1.0"/>
  </material>
  <link name="world"/>
  <!-- Base -->
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.166 0.125 0.036"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.166 0.125 0.036"/>
      </geometry>
    </collision>
  </link>
  <!-- Join the base to the "world" which will act as the unifying link of the whole robot
         This is needed for the robot to be imported properly in Unity -->
  <joint name="joint_world" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- Caster (i.e. back support) -->
  <link name="caster_link">
    <visual>
      <geometry>
        <sphere radius="0.010"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.010"/>
      </geometry>
    </collision>
  </link>
  <joint name="caster_to_base_joint" type="fixed">
    <parent link="base_link"/>
    <child link="caster_link"/>
    <origin xyz="-0.073 0 -0.025"/>
  </joint>
  <link name="right_wheel_link">
    <visual>
      <geometry>
        <mesh filename="package://mark_description/meshes/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <!-- The cylinder for the collision needs to be rotated 90 degrees (in radians) -->
      <origin rpy="1.560795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.027" radius="0.031"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_right_wheel" type="continuous">
    <parent link="base_link"/>
    <child link="right_wheel_link"/>
    <origin rpy="0 0 0" xyz="0.045 0.075 -0.005"/>
    <!-- Rotation on the y-axis -->
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_wheel_link">
    <visual>
      <geometry>
        <mesh filename="package://mark_description/meshes/wheel.dae"/>
      </geometry>
    </visual>
    <collision>
      <!-- The cylinder for the collision needs to be rotated 90 degrees (in radians) -->
      <origin rpy="1.560795 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.027" radius="0.031"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_left_wheel" type="continuous">
    <parent link="base_link"/>
    <child link="left_wheel_link"/>
    <origin rpy="0 0 0" xyz="0.045 -0.075 -0.005"/>
    <!-- Rotation on the y-axis -->
    <axis xyz="0 1 0"/>
  </joint>
  <!-- Support that provides panning -->
  <link name="camera_pan_support_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0225"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0225"/>
      </geometry>
    </collision>
  </link>
  <joint name="camera_pan_support_to_base_joint" type="revolute">
    <parent link="base_link"/>
    <child link="camera_pan_support_link"/>
    <origin rpy="0 0 0" xyz="0.06 0.0 0.023"/>
    <!-- Rotation on the z-axis (pan) -->
    <axis xyz="0 0 1"/>
    <!-- -90 to 90 degrees -->
    <limit effort="1.0" lower="-1.560795" upper="1.560795" velocity="1.0"/>
  </joint>
  <!-- Support that provides base for tilting joints -->
  <link name="camera_tilt_support_link">
    <visual>
      <geometry>
        <box size="0.035 0.025 0.02"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.035 0.025 0.02"/>
      </geometry>
    </collision>
  </link>
  <joint name="camera_tilt_support_to_pan_support_joint" type="fixed">
    <parent link="camera_pan_support_link"/>
    <child link="camera_tilt_support_link"/>
    <origin rpy="0 0 0" xyz="0.005 0 0.015"/>
  </joint>
  <!-- Lateral support for lens that provide tilting (only the right will move) -->
  <link name="camera_right_lateral_support_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.021"/>
      <geometry>
        <box size="0.012 0.001 0.057"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.021"/>
      <geometry>
        <box size="0.012 0.001 0.057"/>
      </geometry>
    </collision>
  </link>
  <joint name="camera_right_lateral_support_to_tilt_support_joint" type="revolute">
    <parent link="camera_tilt_support_link"/>
    <child link="camera_right_lateral_support_link"/>
    <origin rpy="0 0 0" xyz="0.009 0.013 0"/>
    <!-- Rotation on the y-axis (tilt) -->
    <axis xyz="0 1 0"/>
    <!-- -75 to 90 degrees -->
    <limit effort="1.0" lower="-1.309" upper="1.560795" velocity="1.0"/>
  </joint>
  <!-- Lens support -->
  <link name="camera_lens_support_link">
    <visual>
      <geometry>
        <box size="0.012 0.025 0.026"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.012 0.025 0.026"/>
      </geometry>
    </collision>
  </link>
  <joint name="camera_lens_support_to_lateral_support_joint" type="fixed">
    <parent link="camera_right_lateral_support_link"/>
    <child link="camera_lens_support_link"/>
    <origin rpy="0 0 0" xyz="0 -0.013 0.0365"/>
  </joint>
  <!-- Left lateral support for lens that does not move on its own
         Movement is controlled by thr right lateral support
         We add this so that it matches the visual design of the robot -->
  <link name="camera_left_lateral_support_link">
    <visual>
      <origin rpy="0 0 0" xyz="-0.009 0 -0.0155"/>
      <geometry>
        <box size="0.012 0.001 0.057"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.009 0 -0.0155"/>
      <geometry>
        <box size="0.012 0.001 0.057"/>
      </geometry>
    </collision>
  </link>
  <!-- Join the lateral support with a fixed joint so that it moves with the whole
         camera lens when the right support moves -->
  <joint name="camera_left_lateral_support_to_lens_support_joint" type="fixed">
    <parent link="camera_lens_support_link"/>
    <child link="camera_left_lateral_support_link"/>
    <origin rpy="0 0 0" xyz="0.009 -0.013 0"/>
  </joint>
  <!-- Camera lens -->
  <link name="camera_lens_link">
    <visual>
      <geometry>
        <cylinder length="0.012" radius="0.006"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.012" radius="0.006"/>
      </geometry>
    </collision>
  </link>
  <joint name="camera_lens_to_lens_support_joint" type="fixed">
    <parent link="camera_lens_support_link"/>
    <child link="camera_lens_link"/>
    <!-- Rotate 90 degrees (in radians) -->
    <origin rpy="0 1.560795 0" xyz="0.012 0 0.003"/>
  </joint>
  <link name="ultrasonic_sensor_base_link">
    <visual>
      <geometry>
        <box size="0.001 0.047 0.03"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.001 0.047 0.03"/>
      </geometry>
    </collision>
  </link>
  <joint name="ultrasonic_sensor_base_to_parent_link" type="fixed">
    <parent link="gripper_base_link"/>
    <child link="ultrasonic_sensor_base_link"/>
    <origin rpy="0 0 0" xyz="0.069 0.0 0.016"/>
  </joint>
  <link name="ultrasonic_sensor_right_link">
    <visual>
      <geometry>
        <cylinder length="0.013" radius="0.0075"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.013" radius="0.0075"/>
      </geometry>
    </collision>
  </link>
  <joint name="ultrasonic_sensor_right_to_sensor_base_joint" type="fixed">
    <parent link="ultrasonic_sensor_base_link"/>
    <child link="ultrasonic_sensor_right_link"/>
    <origin rpy="0 1.560795 0" xyz="0.0076 0.012 -0.005"/>
  </joint>
  <link name="ultrasonic_sensor_left_link">
    <visual>
      <geometry>
        <cylinder length="0.013" radius="0.0075"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.013" radius="0.0075"/>
      </geometry>
    </collision>
  </link>
  <joint name="ultrasonic_sensor_left_to_sensor_base_joint" type="fixed">
    <parent link="ultrasonic_sensor_base_link"/>
    <child link="ultrasonic_sensor_left_link"/>
    <origin rpy="0 1.560795 0" xyz="0.0076 -0.012 -0.005"/>
  </joint>
  <link name="gripper_base_link">
    <visual>
      <geometry>
        <mesh filename="package://mark_description/meshes/gripper_base.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.015 0.073 0.03"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0.0613 0 0.016"/>
    </collision>
  </link>
  <joint name="gripper_base_to_robot_base_link" type="fixed">
    <parent link="base_link"/>
    <child link="gripper_base_link"/>
    <origin rpy="0 0 0" xyz="0.03 0.0 -0.018"/>
  </joint>
  <link name="gripper_arm_a_link">
    <visual>
      <origin rpy="0 0 0" xyz="0.015 0 0"/>
      <geometry>
        <mesh filename="package://mark_description/meshes/gripper_arm_a.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.031 0 0"/>
      <geometry>
        <box size="0.07 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <joint name="gripper_arm_a_to_gripper_base_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_arm_a_link"/>
    <origin rpy="0 0 0" xyz="0.06 -0.01 0"/>
    <!-- Rotation on the z-axis -->
    <axis xyz="0 0 1"/>
    <!-- -90 to ~5 degrees (radians) so that the two arms can meet -->
    <limit effort="1.0" lower="-1.560795" upper="0.09" velocity="1.0"/>
  </joint>
  <link name="gripper_arm_b_link">
    <visual>
      <origin rpy="0 0 0" xyz="0.031 0 0"/>
      <geometry>
        <mesh filename="package://mark_description/meshes/gripper_arm_b.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.031 0 0"/>
      <geometry>
        <box size="0.07 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <joint name="gripper_arm_b_to_gripper_base_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_arm_b_link"/>
    <origin rpy="0 0 0" xyz="0.06 0.01 0"/>
    <!-- Rotation on the z-axis -->
    <axis xyz="0 0 -1"/>
    <!-- -90 to ~5 degrees (radians) so that the two arms can meet -->
    <limit effort="1.0" lower="-1.560795" upper="0.09" velocity="1.0"/>
  </joint>
  <!--Disable collisions between the grippers, the base and the ultrasonic sensor
        This allows the grippers to open and close smoothly
        See: https://github.com/Unity-Technologies/Unity-Robotics-Hub/blob/main/tutorials/urdf_importer/urdf_appendix.md#disable-collision-support -->
  <disable_collision link1="gripper_arm_a_link" link2="gripper_base_link"/>
  <disable_collision link1="gripper_arm_b_link" link2="gripper_base_link"/>
  <disable_collision link1="gripper_arm_a_link" link2="ultrasonic_sensor_base_link"/>
  <disable_collision link1="gripper_arm_b_link" link2="ultrasonic_sensor_base_link"/>
  <disable_collision link1="gripper_arm_a_link" link2="ultrasonic_sensor_left_link"/>
  <disable_collision link1="gripper_arm_b_link" link2="ultrasonic_sensor_right_link"/>
</robot>
