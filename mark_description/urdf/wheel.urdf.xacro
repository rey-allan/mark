<robot xmlns:xacro="http://ros.org/wiki/xacro" name="mark_wheel">

  <!-- We use `*` for the joint_pose to specify it's a block property
       See: http://wiki.ros.org/xacro#Macros
  -->
  <xacro:macro name="mark_wheel" params="wheel_prefix *joint_pose">
    <link name="${wheel_prefix}_wheel">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://mark_description/meshes/wheel.dae" />
      </geometry>
    </visual>
    <collision>
      <!-- The cylinder for the collision needs to be rotated 90 degrees (in radians) -->
      <origin xyz="0 0 0" rpy="1.560795 0 0" />
      <geometry>
          <cylinder length="0.1" radius="0.2" />
      </geometry>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>
    </inertial>
    </link>

    <joint name="joint_${wheel_prefix}_wheel" type="continuous">
      <parent link="chassis_link"/>
      <child link="${wheel_prefix}_wheel"/>
      <xacro:insert_block name="joint_pose"/>
      <!-- Rotation on the y-axis -->
      <axis xyz="0 1 0" />
  </joint>
  </xacro:macro>

</robot>